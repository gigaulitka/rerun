name: Run Tests

on:
  push:

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Checkout code
      uses: actions/checkout@v3

    - name: ğŸ›  Install dependencies (if needed)
      run: |
        sudo apt-get update
        sudo apt-get install -y build-essential libmicrohttpd-dev expect

    - name: ğŸ‘· Build executable
      run: make build

    - name: ğŸ§‘â€ğŸ’» Run tests from Makefile
      run: make test
